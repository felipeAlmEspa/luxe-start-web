(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{9087:(e,l,t)=>{Promise.resolve().then(t.bind(t,4902))},4902:(e,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>F});var a=t(5155),r=t(8629);let s={getMuebles:async()=>{try{let e=await fetch("https://felipealmespa.github.io/luxeApi/"),l=[],t=(await e.text()).match(/<pre>([\s\S]*?)<\/pre>/);if(t&&t[1])try{l=JSON.parse(t[1]).data}catch(e){console.error("Error al parsear JSON:",e),l=[]}else console.error("No se encontr\xf3 contenido JSON v\xe1lido en el <pre>"),l=[];return l}catch(e){return console.error("Error al obtener los datos:",e),[]}}},i=e=>{let l=async()=>s.getMuebles();return(0,r.I)({queryKey:["todos"],queryFn:l,...e})};var c=t(1454),o=t(7293),n=t(1889),d=t(4637),u=t(3767),x=t(2644),m=t(5780),h=t(1461),p=t(531),f=t(7893),g=t(3100),j=t(6503),b=t(6404),v=t(123);let N=e=>{var l;let{mueble:t}=e,{isOpen:r,onOpen:s,onOpenChange:i}=(0,c.j)(),{addFavorito:N}=(0,v.w)(),w=()=>{s()};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o.Z,{className:"w-[320px] max-w-[500px] min-w-[220px]",children:[(0,a.jsx)(n.d,{className:"flex gap-3",children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("p",{className:"text-md",children:t.titulo?t.titulo:"Mueble Luxe"}),(0,a.jsx)("p",{className:"text-small text-default-500",children:t.color?t.color:"Mueble Luxe"})]})}),(0,a.jsx)(d.y,{}),(0,a.jsxs)(u.U,{children:[(0,a.jsx)(x.W,{alt:"heroui logo",width:320,height:220,className:"w-full h-full object-cover",radius:"sm",src:null!==(l=t.img)&&void 0!==l?l:"",onClick:()=>w()}),(0,a.jsx)("p",{children:t.descripcion?t.descripcion:"Sin descripci\xf3n"})]}),(0,a.jsx)(d.y,{}),(0,a.jsxs)(m.Z,{className:"flex flex-wrap justify-center gap-4",children:[(0,a.jsx)(h.T,{className:"bg-transparent text-black border-1 border-black",color:"primary",onPress:()=>{b.q.addMueble(t),N(t)},children:(0,a.jsx)(f.A,{size:16,color:"red"})}),(0,a.jsx)(h.T,{className:"bg-transparent text-black border-1 border-black",color:"primary",children:(0,a.jsx)(g.A,{size:16})}),(0,a.jsx)(h.T,{className:"bg-transparent text-black border-1 border-black",color:"primary",children:(0,a.jsx)(j.A,{size:16,color:"gray"})})]})]}),r&&t.img&&(0,a.jsx)(p.Z,{isOpen:r,onOpenChange:i,imageUrl:t.img})]})};var w=t(5565),y=t(2115);let S=e=>{let{data:l}=e,[t,r]=(0,y.useState)(0),[s,i]=(0,y.useState)([0,1,2,3,4]),{isOpen:o,onOpen:n,onOpenChange:d}=(0,c.j)(),[u,x]=(0,y.useState)(null),m=(0,y.useCallback)(()=>{r(e=>e===l.length-1?0:e+1)},[l.length]);(0,y.useEffect)(()=>{let e=setInterval(m,5e3);return()=>clearInterval(e)},[m]),(0,y.useEffect)(()=>{let e=l.length,a=5*Math.floor(t/5);i(Array.from({length:5},(e,l)=>a+l).filter(l=>l<e))},[t,l.length]);let h=e=>{x(e),n()};return(0,a.jsxs)("div",{className:"relative  w-[400px] justify-center",children:[(0,a.jsx)("div",{className:"overflow-hidden rounded-2xl w-full",children:(0,a.jsx)("div",{className:"flex transition-transform duration-500 h-[400px]",style:{transform:"translateX(-".concat(100*t,"%)")},children:l.map((e,l)=>(0,a.jsx)(w.default,{className:"w-full flex-shrink-0",src:e.img,alt:"Next.js logo",width:200,height:200,priority:!0,onClick:()=>h(e.img)},l))})}),(0,a.jsx)("button",{onClick:()=>{r(e=>0===e?l.length-1:e-1)},className:"absolute top-1/2 left-4 transform -translate-y-1/2 bg-black/50 text-white p-2 rounded-full hover:bg-black",children:"◀"}),(0,a.jsx)("button",{onClick:m,className:"absolute top-1/2 right-4 transform -translate-y-1/2 bg-black/50 text-white p-2 rounded-full hover:bg-black",children:"▶"}),(0,a.jsx)("div",{className:"flex justify-center mt-4 space-x-2",children:s.map(e=>(0,a.jsx)("button",{onClick:()=>r(e),className:"w-3 h-3 rounded-full ".concat(t===e?"bg-black":"bg-gray-400")},e))}),o&&u&&(0,a.jsx)(p.Z,{isOpen:o,onOpenChange:d,imageUrl:u})]})};var k=t(3477),C=t(5188),I=t(2591);let F=()=>{let[e,l]=(0,y.useState)(null),[t,r]=(0,y.useState)(null),[s,c]=(0,y.useState)(null),{data:o,isLoading:n}=i(),u=(0,y.useMemo)(()=>o?o.filter(e=>e.color).map(e=>({clave:e.color,valor:e.color})).filter((e,l,t)=>l===t.findIndex(l=>l.clave===e.clave)).filter(e=>e.clave&&e.valor):[],[o]),x=(0,y.useMemo)(()=>o?o.filter(e=>e.categoria).map(e=>({clave:e.categoria,valor:e.categoria})).filter((e,l,t)=>l===t.findIndex(l=>l.clave===e.clave)).filter(e=>e.clave&&e.valor):[],[o]),m=(0,y.useMemo)(()=>{if(!o)return[];{let l=o;if(e&&(l=l.filter(l=>l.color&&l.color===e)),t&&(l=l.filter(e=>e.categoria&&e.categoria===t)),s&&s.length>0){let e=s.toUpperCase();l=l.filter(l=>l.descripcion&&l.descripcion.toUpperCase().includes(e)||l.color&&l.color.toUpperCase().includes(e)||l.categoria&&l.categoria.toUpperCase().includes(e)||l.etiqueta&&l.etiqueta.toUpperCase().includes(e))}return l}},[o,t,e,s]);return n?(0,a.jsx)(a.Fragment,{}):(0,a.jsxs)("div",{className:"w-full h-[auto] ",children:[(0,a.jsx)("div",{className:"flex justify-center  bg-[#f2f1f1] rounded-2xl",children:o&&(0,a.jsx)(S,{data:o.filter(e=>"string"==typeof e.img).map(e=>{var l;return{img:null!==(l=e.img)&&void 0!==l?l:""}})})}),(0,a.jsx)("div",{className:"pt-3",children:(0,a.jsx)(d.y,{})}),(0,a.jsxs)("nav",{className:"flex flex-col sm:flex-row gap-4 bg-[#cacaca] p-3 items-center justify-center",children:[(0,a.jsx)(C.r,{className:"w-full sm:w-1/4",label:"Buscar",labelPlacement:"outside",placeholder:"Ingresar t\xe9rmino de b\xfasqueda",startContent:(0,a.jsx)(I.A,{className:"text-2xl text-default-400 pointer-events-none flex-shrink-0"}),onChange:e=>c(e.target.value),type:"email"}),(0,a.jsx)(k.B,{data:x,onSelect:r,valor:t,placeholder:"Seleccionar una opci\xf3n",borderColor:"border-black",title:"Filtrar por categor\xeda"}),(0,a.jsx)(k.B,{data:u,onSelect:l,valor:e,placeholder:"Seleccionar una opci\xf3n",borderColor:"border-black",title:"Filtrar por color"})]}),(0,a.jsx)("div",{className:"flex flex-wrap justify-center gap-2",children:m&&m.map((e,l)=>(0,a.jsx)("div",{className:"w-full sm:w-1/2 md:w-1/3 lg:w-1/5 p-2 min-w-[340px]",children:(0,a.jsx)(N,{mueble:e},l)},l))})]})}},3477:(e,l,t)=>{"use strict";t.d(l,{B:()=>x});var a=t(5155),r=t(77),s=t(8318),i=t(1461),c=t(3168),o=t(4963),n=t(3010),d=t(2115),u=t(689);let x=e=>{let{onSelect:l,valor:t,data:x,placeholder:m="Seleccionar una opci\xf3n",borderColor:h="border-gray-500",title:p=""}=e,f=(0,d.useCallback)(e=>{if(e instanceof Set){let t=[...e][0];if("_TODOS"===t.toString()){l(null);return}l(t.toString())}},[l]),g=(0,d.useCallback)(()=>l(null),[l]);return(0,a.jsxs)("div",{className:"flex flex-col min-w-[150px]",children:[(0,a.jsx)("span",{children:p}),(0,a.jsxs)("div",{className:"flex flex-row items-center justify-between gap-1",children:[(0,a.jsxs)(r.A,{children:[(0,a.jsx)(s.b,{children:(0,a.jsx)(i.T,{variant:"bordered",color:"default",className:"border ".concat(h," uppercase text-[11px] text-gray-800"),children:null!=t?t:m})}),(0,a.jsxs)(c.y,{disallowEmptySelection:!0,"aria-label":"waSingle selection example",selectedKeys:null!=t?t:void 0,selectionMode:"single",variant:"bordered",onSelectionChange:f,children:[(0,a.jsx)(o.g,{children:(0,a.jsx)(n.Y,{children:(0,a.jsx)("div",{className:"flex justify-between",children:(0,a.jsx)("small",{children:"Todos"})})},"_TODOS")}),(0,a.jsx)(o.g,{children:x.map(e=>(0,a.jsx)(n.Y,{children:(0,a.jsx)("div",{className:"flex justify-between",children:(0,a.jsx)("small",{className:"uppercase",children:e.valor})})},e.valor))})]})]}),t&&(0,a.jsx)(i.T,{isIconOnly:!0,"aria-label":"Like",color:"default",size:"sm",className:"w-6 h-6 p-1",onPress:g,children:(0,a.jsx)(u.A,{className:"w-4 h-4"})})]})]})}},531:(e,l,t)=>{"use strict";t.d(l,{Z:()=>u});var a=t(5155),r=t(1062),s=t(1597),i=t(7657),c=t(3248),o=t(309),n=t(1461),d=t(5565);let u=e=>{let{isOpen:l,onOpenChange:t,imageUrl:u}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(r.Y,{isOpen:l,onOpenChange:t,size:"xl",placement:"center",children:(0,a.jsx)(s.g,{children:e=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.c,{className:"flex flex-col gap-1"}),(0,a.jsx)(c.h,{children:(0,a.jsx)(d.default,{className:"w-full flex-shrink-0",src:u,alt:"Next.js logo",width:400,height:400,priority:!0})}),(0,a.jsx)(o.q,{children:(0,a.jsx)(n.T,{color:"danger",variant:"light",onPress:e,children:"Cerrar"})})]})})})})}},123:(e,l,t)=>{"use strict";t.d(l,{w:()=>s});var a=t(9827),r=t(6404);let s=(0,a.v)(e=>({state:{listaFavoritos:[]},setState:l=>e(e=>{let t={...e.state,...l};return r.q.setItem("muebles",t.listaFavoritos),{state:t}}),addFavorito:l=>e(e=>{let t=[...e.state.listaFavoritos,l];return r.q.setItem("muebles",t),{state:{...e.state,listaFavoritos:t}}}),removeFavorito:l=>e(e=>{let t=e.state.listaFavoritos.filter(e=>e.id!==l);return r.q.setItem("muebles",t),{state:{...e.state,listaFavoritos:t}}}),updateFavorito:l=>e(e=>{let t=e.state.listaFavoritos.map(e=>e.id===l.id?l:e);return r.q.setItem("muebles",t),{state:{...e.state,listaFavoritos:t}}}),cargaInicial:()=>e(()=>{var e;return{state:{listaFavoritos:null!==(e=r.q.getItem("muebles"))&&void 0!==e?e:[]}}})}))},6404:(e,l,t)=>{"use strict";t.d(l,{q:()=>a});class a{static setItem(e,l){localStorage.setItem(e,JSON.stringify(l))}static getItem(e){let l=localStorage.getItem(e);return l?JSON.parse(l):null}static removeItem(e){localStorage.removeItem(e)}static addMueble(e){let l=this.getItem("muebles")||[];l.push(e),this.setItem("muebles",l)}static removeMueble(e){let l=this.getItem("muebles")||[];l=l.filter(l=>l.id!==e),this.setItem("muebles",l)}static clear(){localStorage.clear()}}}},e=>{var l=l=>e(e.s=l);e.O(0,[526,613,882,675,441,517,358],()=>l(9087)),_N_E=e.O()}]);